import*as e from"react";import{useLayoutEffect as t,useEffect as n,useRef as r}from"react";import{platform as o,getOverflowAncestors as u,offset as c,detectOverflow as i,useFloating as l}from"@floating-ui/react-dom";export{arrow,autoPlacement,autoUpdate,computePosition,detectOverflow,flip,getOverflowAncestors,hide,inline,limitShift,offset,platform,shift,size}from"@floating-ui/react-dom";import{hideOthers as s}from"aria-hidden";import{tabbable as a}from"tabbable";import{createPortal as f,flushSync as d}from"react-dom";function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}const v=e.forwardRef((function(t,n){var r;let{context:{placement:u,elements:{floating:c},middlewareData:{arrow:i}},width:l=14,height:s=7,tipRadius:a=0,strokeWidth:f=0,staticOffset:d,stroke:v,d:p,...g}=t;const b=l/2*(a/-8+1),h=s/2*a/4,[y,w]=u.split("-"),E=!!c&&o.isRTL(c),R=!!p,x="top"===y||"bottom"===y,I=d&&"end"===w?"bottom":"top";let k=d&&"end"===w?"right":"left";d&&E&&(k="end"===w?"left":"right");const T=null!=(null==i?void 0:i.x)?d||i.x:"",C=null!=(null==i?void 0:i.y)?d||i.y:"",M=p||"M0,0 H"+l+" L"+(l-b)+","+(s-h)+" Q"+l/2+","+s+" "+b+","+(s-h)+" Z",L={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[y];return e.createElement("svg",m({},g,{suppressHydrationWarning:!0,"aria-hidden":!0,ref:n,width:R?l:l+(x?f:0),height:l,viewBox:R?"0 0 "+l+" "+l:"0 0 "+l+" "+(l+(x?0:f)),style:{...g.style,position:"absolute",pointerEvents:"none",[k]:null!=T?T:"",[I]:null!=C?C:"",[y]:"100%",transform:L+(null!=(r=g.style)&&r.transform?" "+g.style.transform:"")}}),f>0&&e.createElement("path",{fill:"none",stroke:v,strokeWidth:f+(p?0:1),d:M}),e.createElement("path",{stroke:f&&!p?g.fill:"none",d:M}))}));var p="undefined"!=typeof document?t:n;let g=!1,b=0;const h=()=>"floating-ui-"+b++;const y=e["useId".toString()]||function(){const[t,n]=e.useState((()=>g?h():void 0));return p((()=>{null==t&&n(h())}),[]),e.useEffect((()=>{g||(g=!0)}),[]),t};function w(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}const E=e.createContext(null),R=e.createContext(null),x=()=>{var t;return(null==(t=e.useContext(E))?void 0:t.id)||null},I=()=>e.useContext(R),k=e=>{const t=y(),n=I(),r=x(),o=e||r;return p((()=>{const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,o]),t},T=t=>{let{children:n,id:r}=t;const o=x();return e.createElement(E.Provider,{value:e.useMemo((()=>({id:r,parentId:o})),[r,o])},n)},C=t=>{let{children:n}=t;const r=e.useRef([]),o=e.useCallback((e=>{r.current=[...r.current,e]}),[]),u=e.useCallback((e=>{r.current=r.current.filter((t=>t!==e))}),[]),c=e.useState((()=>w()))[0];return e.createElement(R.Provider,{value:e.useMemo((()=>({nodesRef:r,addNode:o,removeNode:u,events:c})),[r,o,u,c])},n)};function M(e){return(null==e?void 0:e.ownerDocument)||document}function L(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function A(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function O(e){return M(e).defaultView||window}function P(e){return!!e&&e instanceof O(e).Element}function S(e){return!!e&&e instanceof O(e).HTMLElement}function D(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(L())||t.test(A()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function F(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function K(){return/apple/i.test(navigator.vendor)}function H(){return L().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function B(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function N(e){const t=r(e);return p((()=>{t.current=e})),t}function _(e,t,n){return n&&!B(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}const j=function(t,n){let{enabled:r=!0,delay:o=0,handleClose:u=null,mouseOnly:c=!1,restMs:i=0,move:l=!0}=void 0===n?{}:n;const{open:s,onOpenChange:a,dataRef:f,events:d,elements:{domReference:m,floating:v},refs:g}=t,b=I(),h=x(),y=N(u),w=N(o),E=e.useRef(),R=e.useRef(),k=e.useRef(),T=e.useRef(),C=e.useRef(!0),L=e.useRef(!1),A=e.useRef((()=>{})),O=e.useCallback((()=>{var e;const t=null==(e=f.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[f]);e.useEffect((()=>{if(r)return d.on("dismiss",e),()=>{d.off("dismiss",e)};function e(){clearTimeout(R.current),clearTimeout(T.current),C.current=!0}}),[r,d]),e.useEffect((()=>{if(!r||!y.current||!s)return;function e(){O()&&a(!1)}const t=M(v).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[v,s,a,r,y,f,O]);const S=e.useCallback((function(e){void 0===e&&(e=!0);const t=_(w.current,"close",E.current);t&&!k.current?(clearTimeout(R.current),R.current=setTimeout((()=>a(!1)),t)):e&&(clearTimeout(R.current),a(!1))}),[w,a]),D=e.useCallback((()=>{A.current(),k.current=void 0}),[]),F=e.useCallback((()=>{if(L.current){const e=M(g.floating.current).body;e.style.pointerEvents="",e.removeAttribute("data-floating-ui-safe-polygon"),L.current=!1}}),[g]);return e.useEffect((()=>{if(r&&P(m)){const e=m;return s&&e.addEventListener("mouseleave",u),null==v||v.addEventListener("mouseleave",u),l&&e.addEventListener("mousemove",n,{once:!0}),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",o),()=>{s&&e.removeEventListener("mouseleave",u),null==v||v.removeEventListener("mouseleave",u),l&&e.removeEventListener("mousemove",n),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",o)}}function e(){return!!f.current.openEvent&&["click","mousedown"].includes(f.current.openEvent.type)}function n(e){if(clearTimeout(R.current),C.current=!1,c&&!B(E.current)||i>0&&0===_(w.current,"open"))return;f.current.openEvent=e;const t=_(w.current,"open",E.current);t?R.current=setTimeout((()=>{a(!0)}),t):a(!0)}function o(n){if(e())return;A.current();const r=M(v);if(clearTimeout(T.current),y.current){s||clearTimeout(R.current),k.current=y.current({...t,tree:b,x:n.clientX,y:n.clientY,onClose(){F(),D(),S()}});const e=k.current;return r.addEventListener("mousemove",e),void(A.current=()=>{r.removeEventListener("mousemove",e)})}S()}function u(n){e()||null==y.current||y.current({...t,tree:b,x:n.clientX,y:n.clientY,onClose(){F(),D(),S()}})(n)}}),[m,v,r,t,c,i,l,S,D,F,a,s,b,w,y,f]),p((()=>{var e;if(r&&s&&null!=(e=y.current)&&e.__options.blockPointerEvents&&O()){const e=M(v).body;if(e.setAttribute("data-floating-ui-safe-polygon",""),e.style.pointerEvents="none",L.current=!0,P(m)&&v){var t,n;const e=m,r=null==b||null==(t=b.nodesRef.current.find((e=>e.id===h)))||null==(n=t.context)?void 0:n.elements.floating;return r&&(r.style.pointerEvents=""),e.style.pointerEvents="auto",v.style.pointerEvents="auto",()=>{e.style.pointerEvents="",v.style.pointerEvents=""}}}}),[r,s,h,v,m,b,y,f,O]),p((()=>{s||(E.current=void 0,D(),F())}),[s,D,F]),e.useEffect((()=>()=>{D(),clearTimeout(R.current),clearTimeout(T.current),F()}),[r,D,F]),e.useMemo((()=>{if(!r)return{};function e(e){E.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(){s||0===i||(clearTimeout(T.current),T.current=setTimeout((()=>{C.current||a(!0)}),i))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(){d.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),S(!1)}}}}),[d,r,i,s,a,S])},W=e.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),V=()=>e.useContext(W),q=t=>{let{children:n,delay:r,timeoutMs:o=0}=t;const[u,c]=e.useReducer(((e,t)=>({...e,...t})),{delay:r,timeoutMs:o,initialDelay:r,currentId:null,isInstantPhase:!1}),i=e.useRef(null),l=e.useCallback((e=>{c({currentId:e})}),[]);return p((()=>{u.currentId?null===i.current?i.current=u.currentId:c({isInstantPhase:!0}):(c({isInstantPhase:!1}),i.current=null)}),[u.currentId]),e.createElement(W.Provider,{value:e.useMemo((()=>({...u,setState:c,setCurrentId:l})),[u,c,l])},n)},z=(t,n)=>{let{open:r,onOpenChange:o}=t,{id:u}=n;const{currentId:c,setCurrentId:i,initialDelay:l,setState:s,timeoutMs:a}=V();e.useEffect((()=>{c&&(s({delay:{open:1,close:_(l,"close")}}),c!==u&&o(!1))}),[u,o,s,c,l]),e.useEffect((()=>{function e(){o(!1),s({delay:l,currentId:null})}if(!r&&c===u){if(a){const t=window.setTimeout(e,a);return()=>{clearTimeout(t)}}e()}}),[r,s,c,u,o,l,a]),e.useEffect((()=>{r&&i(u)}),[r,i,u])};function U(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function X(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(r=n,"undefined"!=typeof ShadowRoot&&(r instanceof O(r).ShadowRoot||r instanceof ShadowRoot))){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}var r;return!1}let Y=0;function Z(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Y);const u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():Y=requestAnimationFrame(u)}function Q(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}))||[],r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))}))||[],n=n.concat(r);return n}function G(e){return"composedPath"in e?e.composedPath()[0]:e.target}function J(e){return S(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function $(e){e.preventDefault(),e.stopPropagation()}const ee=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function te(e,t){const n=a(e,ee());"prev"===t&&n.reverse();const r=n.indexOf(U(M(e)));return n.slice(r+1)[0]}function ne(){return te(document.body,"next")}function re(){return te(document.body,"prev")}function oe(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!X(n,r)}function ue(e){a(e,ee()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function ce(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const ie=e["useInsertionEffect".toString()]||(e=>e());function le(t){const n=e.useRef((()=>{}));return ie((()=>{n.current=t})),e.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}const se={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let ae,fe;function de(e){"Tab"===e.key&&(ae=e.target,clearTimeout(fe))}const me=e.forwardRef((function(t,n){const r=le(t.onFocus),[o,u]=e.useState();return p((()=>(K()&&u("button"),document.addEventListener("keydown",de),()=>{document.removeEventListener("keydown",de)})),[]),e.createElement("span",m({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":!o||void 0,"data-floating-ui-focus-guard":"",style:se,onFocus:e=>{K()&&H()&&!function(e){const t=ae===e.relatedTarget;return ae=e.relatedTarget,clearTimeout(fe),t}(e)?(e.persist(),fe=window.setTimeout((()=>{r(e)}),50)):r(e)}}))})),ve=e.createContext(null),pe=function(t){let{id:n,enabled:r=!0}=void 0===t?{}:t;const[o,u]=e.useState(null),c=y(),i=be();return p((()=>{if(!r)return;const e=n?document.getElementById(n):null;if(!e){const e=document.createElement("div");""!==n&&(e.id=n||c),e.setAttribute("data-floating-ui-portal",""),u(e);const t=(null==i?void 0:i.portalNode)||document.body;return t.appendChild(e),()=>{t.removeChild(e)}}e.setAttribute("data-floating-ui-portal",""),u(e)}),[n,i,c,r]),o},ge=t=>{let{children:n,id:r,root:o=null,preserveTabOrder:u=!0}=t;const c=pe({id:r,enabled:!o}),[i,l]=e.useState(null),s=e.useRef(null),a=e.useRef(null),d=e.useRef(null),m=e.useRef(null),v=!!i&&!i.modal&&!(!o&&!c)&&u;return e.useEffect((()=>{if(c&&u&&(null==i||!i.modal))return c.addEventListener("focusin",e,!0),c.addEventListener("focusout",e,!0),()=>{c.removeEventListener("focusin",e,!0),c.removeEventListener("focusout",e,!0)};function e(e){if(c&&oe(e)){("focusin"===e.type?ce:ue)(c)}}}),[c,u,null==i?void 0:i.modal]),e.createElement(ve.Provider,{value:e.useMemo((()=>({preserveTabOrder:u,beforeOutsideRef:s,afterOutsideRef:a,beforeInsideRef:d,afterInsideRef:m,portalNode:c,setFocusManagerState:l})),[u,c])},v&&c&&e.createElement(me,{"data-type":"outside",ref:s,onFocus:e=>{if(oe(e,c)){var t;null==(t=d.current)||t.focus()}else{const e=re()||(null==i?void 0:i.refs.domReference.current);null==e||e.focus()}}}),v&&c&&e.createElement("span",{"aria-owns":c.id,style:se}),o?f(n,o):c?f(n,c):null,v&&c&&e.createElement(me,{"data-type":"outside",ref:a,onFocus:e=>{if(oe(e,c)){var t;null==(t=m.current)||t.focus()}else{const e=ne()||(null==i?void 0:i.refs.domReference.current);null==e||e.focus(),(null==i?void 0:i.closeOnFocusOut)&&(null==i||i.onOpenChange(!1))}}}))},be=()=>e.useContext(ve),he=e.forwardRef((function(t,n){return e.createElement("button",m({},t,{type:"button",ref:n,tabIndex:-1,style:se}))}));function ye(t){let{context:n,children:r,order:o=["content"],guards:u=!0,initialFocus:c=0,returnFocus:i=!0,modal:l=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:d=!0}=t;const{refs:m,nodeId:v,onOpenChange:g,events:b,dataRef:h,elements:{domReference:y,floating:w}}=n,E=N(o),R=I(),x=be(),[k,T]=e.useState(null),C="number"==typeof c&&c<0,L=e.useRef(null),A=e.useRef(null),O=e.useRef(!1),P=e.useRef(null),D=e.useRef(!1),F=null!=x,K=y&&"combobox"===y.getAttribute("role")&&J(y),H=e.useCallback((function(e){return void 0===e&&(e=w),e?a(e,ee()):[]}),[w]),B=e.useCallback((e=>{const t=H(e);return E.current.map((e=>y&&"reference"===e?y:w&&"floating"===e?w:t)).filter(Boolean).flat()}),[y,w,E,H]);e.useEffect((()=>{if(!l)return;function e(e){if("Tab"===e.key){0!==H().length||K||$(e);const t=B(),n=G(e);"reference"===E.current[0]&&n===y&&($(e),e.shiftKey?Z(t[t.length-1]):Z(t[1])),"floating"===E.current[1]&&n===w&&e.shiftKey&&($(e),Z(t[0]))}}const t=M(w);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[y,w,l,E,m,K,H,B]),e.useEffect((()=>{if(d)return w&&S(y)?(y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),!l&&w.addEventListener("focusout",t),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),!l&&w.removeEventListener("focusout",t)}):void 0;function e(){D.current=!0,setTimeout((()=>{D.current=!1}))}function t(e){const t=e.relatedTarget,n=!(X(y,t)||X(w,t)||X(t,w)||X(null==x?void 0:x.portalNode,t)||null!=t&&t.hasAttribute("data-floating-ui-focus-guard")||R&&(Q(R.nodesRef.current,v).find((e=>{var n,r;return X(null==(n=e.context)?void 0:n.elements.floating,t)||X(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(R.nodesRef.current,v).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!D.current&&t!==P.current&&(O.current=!0,setTimeout((()=>g(!1))))}}),[y,w,l,v,R,x,g,d]),e.useEffect((()=>{var e;const t=Array.from((null==x||null==(e=x.portalNode)?void 0:e.querySelectorAll("[data-floating-ui-portal]"))||[]);if(w&&l){const e=[w,...t,...[L.current,A.current].filter(Boolean)],n=s(E.current.includes("reference")||K?e.concat(y||[]):e);return()=>{n()}}}),[y,w,l,E,x,K]),e.useEffect((()=>{if(l&&!u&&w){const e=[],t=ee(),n=a(M(w).body,t),r=B(),o=n.filter((e=>!r.includes(e)));return o.forEach(((t,n)=>{e[n]=t.getAttribute("tabindex"),t.setAttribute("tabindex","-1")})),()=>{o.forEach(((t,n)=>{const r=e[n];null==r?t.removeAttribute("tabindex"):t.setAttribute("tabindex",r)}))}}}),[w,l,u,B]),p((()=>{if(!w)return;const e=M(w);let t=i,n=!1;const r=U(e),o=h.current;P.current=r;const u=B(w),l=("number"==typeof c?u[c]:c.current)||w;function s(e){if("escapeKey"===e.type&&m.domReference.current&&(P.current=m.domReference.current),["referencePress","escapeKey"].includes(e.type))return;const r=e.data.returnFocus;"object"==typeof r?(t=!0,n=r.preventScroll):t=r}return!C&&Z(l,{preventScroll:l===w}),b.on("dismiss",s),()=>{var r;(b.off("dismiss",s),X(w,U(e))&&m.domReference.current&&(P.current=m.domReference.current),t&&S(P.current)&&!O.current)&&(!m.domReference.current||D.current?Z(P.current,{cancelPrevious:!1,preventScroll:n}):(o.__syncReturnFocus=!0,null==(r=P.current)||r.focus({preventScroll:n}),setTimeout((()=>{delete o.__syncReturnFocus}))))}}),[w,B,c,i,h,m,b,C]),p((()=>{if(x)return x.setFocusManagerState({...n,modal:l,closeOnFocusOut:d}),()=>{x.setFocusManagerState(null)}}),[x,l,d,n]),p((()=>{if(!C&&w&&(e(),"function"==typeof MutationObserver)){const t=new MutationObserver(e);return t.observe(w,{childList:!0,subtree:!0}),()=>{t.disconnect()}}function e(){T(H().length)}}),[w,H,C,m]);const _=u&&(F||l)&&!K;function j(t){return f&&l?e.createElement(he,{ref:"start"===t?L:A,onClick:()=>g(!1)},"string"==typeof f?f:"Dismiss"):null}return e.createElement(e.Fragment,null,_&&e.createElement(me,{"data-type":"inside",ref:null==x?void 0:x.beforeInsideRef,onFocus:e=>{if(l){const e=B();Z("reference"===o[0]?e[0]:e[e.length-1])}else if(null!=x&&x.preserveTabOrder&&x.portalNode)if(O.current=!1,oe(e,x.portalNode)){const e=ne()||y;null==e||e.focus()}else{var t;null==(t=x.beforeOutsideRef.current)||t.focus()}}}),K?null:j("start"),e.cloneElement(r,0===k||o.includes("floating")?{tabIndex:0}:{}),j("end"),_&&e.createElement(me,{"data-type":"inside",ref:null==x?void 0:x.afterInsideRef,onFocus:e=>{if(l)Z(B()[0]);else if(null!=x&&x.preserveTabOrder&&x.portalNode)if(O.current=!0,oe(e,x.portalNode)){const e=re()||y;null==e||e.focus()}else{var t;null==(t=x.afterOutsideRef.current)||t.focus()}}}))}const we="data-floating-ui-scroll-lock",Ee=e.forwardRef((function(t,n){let{lockScroll:r=!1,...o}=t;return p((()=>{var e,t;if(!r)return;if(document.body.hasAttribute(we))return;document.body.setAttribute(we,"");const n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(L()))return Object.assign(document.body.style,{overflow:"hidden",[n]:o+"px"}),()=>{document.body.removeAttribute(we),Object.assign(document.body.style,{overflow:"",[n]:""})};const u=(null==(e=window.visualViewport)?void 0:e.offsetLeft)||0,c=(null==(t=window.visualViewport)?void 0:t.offsetTop)||0,i=window.pageXOffset,l=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(l-Math.floor(c))+"px",left:-(i-Math.floor(u))+"px",right:"0",[n]:o+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[n]:""}),document.body.removeAttribute(we),window.scrollTo(i,l)}}),[r]),e.createElement("div",m({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))}));function Re(e){return S(e.target)&&"BUTTON"===e.target.tagName}function xe(e){return J(e)}const Ie=function(t,n){let{open:r,onOpenChange:o,dataRef:u,elements:{domReference:c}}=t,{enabled:i=!0,event:l="click",toggle:s=!0,ignoreMouse:a=!1,keyboardHandlers:f=!0}=void 0===n?{}:n;const d=e.useRef();return e.useMemo((()=>i?{reference:{onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0===e.button&&(B(d.current,!0)&&a||"click"!==l&&(r?!s||u.current.openEvent&&"mousedown"!==u.current.openEvent.type||o(!1):(e.preventDefault(),o(!0)),u.current.openEvent=e.nativeEvent))},onClick(e){u.current.__syncReturnFocus||("mousedown"===l&&d.current?d.current=void 0:B(d.current,!0)&&a||(r?!s||u.current.openEvent&&"click"!==u.current.openEvent.type||o(!1):o(!0),u.current.openEvent=e.nativeEvent))},onKeyDown(e){d.current=void 0,f&&(Re(e)||(" "!==e.key||xe(c)||e.preventDefault(),"Enter"===e.key&&(r?s&&o(!1):o(!0))))},onKeyUp(e){f&&(Re(e)||xe(c)||" "===e.key&&(r?s&&o(!1):o(!0)))}}}:{}),[i,u,l,a,f,c,s,r,o])};function ke(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const Te={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Ce={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Me=function(t,n){let{open:r,onOpenChange:o,events:c,nodeId:i,elements:{reference:l,domReference:s,floating:a},dataRef:f}=t,{enabled:d=!0,escapeKey:m=!0,outsidePress:v=!0,outsidePressEvent:p="pointerdown",referencePress:g=!1,referencePressEvent:b="pointerdown",ancestorScroll:h=!1,bubbles:y=!0}=void 0===n?{}:n;const w=I(),E=null!=x(),R=le("function"==typeof v?v:()=>!1),k="function"==typeof v?R:v,T=e.useRef(!1),{escapeKeyBubbles:C,outsidePressBubbles:L}=function(e){var t,n;return void 0===e&&(e=!0),{escapeKeyBubbles:"boolean"==typeof e?e:null==(t=e.escapeKey)||t,outsidePressBubbles:"boolean"==typeof e?e:null==(n=e.outsidePress)||n}}(y);return e.useEffect((()=>{if(!r||!d)return;function e(e){if("Escape"===e.key){const e=w?Q(w.nodesRef.current,i):[];if(e.length>0){let t=!0;if(e.forEach((e=>{var n;null==(n=e.context)||!n.open||e.context.dataRef.current.__escapeKeyBubbles||(t=!1)})),!t)return}c.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),o(!1)}}function t(e){const t=T.current;if(T.current=!1,t)return;if("function"==typeof k&&!k(e))return;const n=G(e);if(S(n)&&a){const t=a.ownerDocument.defaultView||window,r=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight;let u=o&&e.offsetX>n.clientWidth;if(o){"rtl"===t.getComputedStyle(n).direction&&(u=e.offsetX<=n.offsetWidth-n.clientWidth)}if(u||r&&e.offsetY>n.clientHeight)return}const r=w&&Q(w.nodesRef.current,i).some((t=>{var n;return ke(e,null==(n=t.context)?void 0:n.elements.floating)}));if(ke(e,a)||ke(e,s)||r)return;const u=w?Q(w.nodesRef.current,i):[];if(u.length>0){let e=!0;if(u.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}c.emit("dismiss",{type:"outsidePress",data:{returnFocus:E?{preventScroll:!0}:D(e)||F(e)}}),o(!1)}function n(){o(!1)}f.current.__escapeKeyBubbles=C,f.current.__outsidePressBubbles=L;const v=M(a);m&&v.addEventListener("keydown",e),k&&v.addEventListener(p,t);let g=[];return h&&(P(s)&&(g=u(s)),P(a)&&(g=g.concat(u(a))),!P(l)&&l&&l.contextElement&&(g=g.concat(u(l.contextElement)))),g=g.filter((e=>{var t;return e!==(null==(t=v.defaultView)?void 0:t.visualViewport)})),g.forEach((e=>{e.addEventListener("scroll",n,{passive:!0})})),()=>{m&&v.removeEventListener("keydown",e),k&&v.removeEventListener(p,t),g.forEach((e=>{e.removeEventListener("scroll",n)}))}}),[f,a,s,l,m,k,p,c,w,i,r,o,h,d,C,L,E]),e.useEffect((()=>{T.current=!1}),[k,p]),e.useMemo((()=>d?{reference:{[Te[b]]:()=>{g&&(c.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),o(!1))}},floating:{[Ce[p]]:()=>{T.current=!0}}}:{}),[d,c,g,p,b,o])},Le=function(t,n){let{open:r,onOpenChange:o,dataRef:u,events:c,refs:i,elements:{floating:l,domReference:s}}=t,{enabled:a=!0,keyboardOnly:f=!0}=void 0===n?{}:n;const d=e.useRef(""),m=e.useRef(!1),v=e.useRef();return e.useEffect((()=>{if(!a)return;const e=M(l).defaultView||window;function t(){!r&&S(s)&&s===U(M(s))&&(m.current=!0)}return e.addEventListener("blur",t),()=>{e.removeEventListener("blur",t)}}),[l,s,r,a]),e.useEffect((()=>{if(a)return c.on("dismiss",e),()=>{c.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(m.current=!0)}}),[c,a]),e.useEffect((()=>()=>{clearTimeout(v.current)}),[]),e.useMemo((()=>a?{reference:{onPointerDown(e){let{pointerType:t}=e;d.current=t,m.current=!(!t||!f)},onMouseLeave(){m.current=!1},onFocus(e){var t;m.current||"focus"===e.type&&"mousedown"===(null==(t=u.current.openEvent)?void 0:t.type)&&u.current.openEvent&&ke(u.current.openEvent,s)||(u.current.openEvent=e.nativeEvent,o(!0))},onBlur(e){m.current=!1;const t=e.relatedTarget,n=P(t)&&t.hasAttribute("data-floating-ui-focus-guard")&&"outside"===t.getAttribute("data-type");v.current=setTimeout((()=>{X(i.floating.current,t)||X(s,t)||n||o(!1)}))}}}:{}),[a,f,s,i,u,o])};let Ae=!1;function Oe(e,t,n){return Math.floor(e/t)!==n}function Pe(e,t){return t<0||t>=e.current.length}function Se(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:u=1}=void 0===t?{}:t;const c=e.current;let i=n;do{var l,s;i+=r?-u:u}while(i>=0&&i<=c.length-1&&(o?o.includes(i):null==c[i]||(null==(l=c[i])?void 0:l.hasAttribute("disabled"))||"true"===(null==(s=c[i])?void 0:s.getAttribute("aria-disabled"))));return i}function De(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Fe(e,t){return De(t,"ArrowUp"===e||"ArrowDown"===e,"ArrowLeft"===e||"ArrowRight"===e)}function Ke(e,t,n){return De(t,"ArrowDown"===e,n?"ArrowLeft"===e:"ArrowRight"===e)||"Enter"===e||" "==e||""===e}function He(e,t){return Se(e,{disabledIndices:t})}function Be(e,t){return Se(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Ne=function(t,n){let{open:r,onOpenChange:o,refs:u,elements:{domReference:c}}=t,{listRef:i,activeIndex:l,onNavigate:s=(()=>{}),enabled:a=!0,selectedIndex:f=null,allowEscape:m=!1,loop:v=!1,nested:g=!1,rtl:b=!1,virtual:h=!1,focusItemOnOpen:y="auto",focusItemOnHover:w=!0,openOnArrowKeyDown:E=!0,disabledIndices:R,orientation:k="vertical",cols:T=1,scrollItemIntoView:C=!0}=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:n;const L=x(),A=I(),O=le(s),P=e.useRef(y),B=e.useRef(null!=f?f:-1),_=e.useRef(null),j=e.useRef(!0),W=e.useRef(O),V=e.useRef(r),q=e.useRef(!1),z=e.useRef(!1),Y=N(R),Q=N(r),G=N(C),[J,ee]=e.useState(),te=e.useCallback((function(e,t,n){void 0===n&&(n=!1);const r=e.current[t.current];h?ee(null==r?void 0:r.id):Z(r,{preventScroll:!0,sync:!(!H()||!K())&&(Ae||q.current)}),requestAnimationFrame((()=>{const e=G.current;e&&r&&(n||!j.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))}))}),[h,G]);p((()=>{document.createElement("div").focus({get preventScroll(){return Ae=!0,!1}})}),[]),p((()=>{a&&(r?P.current&&null!=f&&(z.current=!0,O(f)):V.current&&(B.current=-1,W.current(null)))}),[a,r,f,O]),p((()=>{if(a&&r)if(null==l){if(q.current=!1,null!=f)return;V.current&&(B.current=-1,te(i,B)),!V.current&&P.current&&(null!=_.current||!0===P.current&&null==_.current)&&(B.current=null==_.current||Ke(_.current,k,b)||g?He(i,Y.current):Be(i,Y.current),O(B.current))}else Pe(i,l)||(B.current=l,te(i,B,z.current),z.current=!1)}),[a,r,l,f,g,i,k,b,O,te,Y]),p((()=>{if(a&&V.current&&!r){var e,t;const n=null==A||null==(e=A.nodesRef.current.find((e=>e.id===L)))||null==(t=e.context)?void 0:t.elements.floating;n&&!X(n,U(M(n)))&&n.focus({preventScroll:!0})}}),[a,r,A,L]),p((()=>{_.current=null,W.current=O,V.current=r}));const ne=null!=l,re=e.useMemo((()=>{function e(e){if(!r)return;const t=i.current.indexOf(e);-1!==t&&O(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...w&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(){var e;j.current&&(B.current=-1,te(i,B),d((()=>O(null))),h||null==(e=u.floating.current)||e.focus({preventScroll:!0}))}}}}),[r,u,te,w,i,O,h]);return e.useMemo((()=>{if(!a)return{};const e=Y.current;function t(t){if(j.current=!1,q.current=!0,!Q.current&&t.currentTarget===u.floating.current)return;if(g&&function(e,t,n){return De(t,n?"ArrowRight"===e:"ArrowLeft"===e,"ArrowUp"===e)}(t.key,k,b))return $(t),o(!1),void(S(c)&&c.focus());const n=B.current,l=He(i,e),s=Be(i,e);if("Home"===t.key&&(B.current=l,O(B.current)),"End"===t.key&&(B.current=s,O(B.current)),T>1){const n=B.current;if("ArrowUp"===t.key){if($(t),-1===n)B.current=s;else if(B.current=Se(i,{startingIndex:n,amount:T,decrement:!0,disabledIndices:e}),v&&(n-T<l||B.current<0)){const e=n%T,t=s%T,r=s-(t-e);B.current=t===e?s:t>e?r:r-T}Pe(i,B.current)&&(B.current=n),O(B.current)}if("ArrowDown"===t.key&&($(t),-1===n?B.current=l:(B.current=Se(i,{startingIndex:n,amount:T,disabledIndices:e}),v&&n+T>s&&(B.current=Se(i,{startingIndex:n%T-T,amount:T,disabledIndices:e}))),Pe(i,B.current)&&(B.current=n),O(B.current)),"both"===k){const r=Math.floor(n/T);"ArrowRight"===t.key&&($(t),n%T!=T-1?(B.current=Se(i,{startingIndex:n,disabledIndices:e}),v&&Oe(B.current,T,r)&&(B.current=Se(i,{startingIndex:n-n%T-1,disabledIndices:e}))):v&&(B.current=Se(i,{startingIndex:n-n%T-1,disabledIndices:e})),Oe(B.current,T,r)&&(B.current=n)),"ArrowLeft"===t.key&&($(t),n%T!=0?(B.current=Se(i,{startingIndex:n,disabledIndices:e,decrement:!0}),v&&Oe(B.current,T,r)&&(B.current=Se(i,{startingIndex:n+(T-n%T),decrement:!0,disabledIndices:e}))):v&&(B.current=Se(i,{startingIndex:n+(T-n%T),decrement:!0,disabledIndices:e})),Oe(B.current,T,r)&&(B.current=n));const o=Math.floor(s/T)===r;return Pe(i,B.current)&&(B.current=v&&o?"ArrowLeft"===t.key?s:Se(i,{startingIndex:n-n%T-1,disabledIndices:e}):n),void O(B.current)}}if(Fe(t.key,k)){if($(t),r&&!h&&U(t.currentTarget.ownerDocument)===t.currentTarget)return B.current=Ke(t.key,k,b)?l:s,void O(B.current);Ke(t.key,k,b)?B.current=v?n>=s?m&&n!==i.current.length?-1:l:Se(i,{startingIndex:n,disabledIndices:e}):Math.min(s,Se(i,{startingIndex:n,disabledIndices:e})):B.current=v?n<=l?m&&-1!==n?i.current.length:s:Se(i,{startingIndex:n,decrement:!0,disabledIndices:e}):Math.max(l,Se(i,{startingIndex:n,decrement:!0,disabledIndices:e})),Pe(i,B.current)?O(null):O(B.current)}}function n(e){"auto"===y&&D(e.nativeEvent)&&(P.current=!0)}const l=h&&r&&ne&&{"aria-activedescendant":J};return{reference:{...l,onKeyDown(n){j.current=!1;const u=0===n.key.indexOf("Arrow");if(h&&r)return t(n);if(!r&&!E&&u)return;(u||"Enter"===n.key||" "===n.key||""===n.key)&&(_.current=n.key),g?function(e,t,n){return De(t,n?"ArrowLeft"===e:"ArrowRight"===e,"ArrowDown"===e)}(n.key,k,b)&&($(n),r?(B.current=He(i,e),O(B.current)):o(!0)):Fe(n.key,k)&&(null!=f&&(B.current=f),$(n),!r&&E?o(!0):t(n),r&&O(B.current))},onFocus(){r&&O(null)},onPointerDown:function(e){P.current=y,"auto"===y&&F(e.nativeEvent)&&(P.current=!0)},onMouseDown:n,onClick:n},floating:{"aria-orientation":"both"===k?void 0:k,...l,onKeyDown:t,onPointerMove(){j.current=!0}},item:re}}),[c,u,J,Y,Q,i,a,k,b,h,r,ne,g,f,E,m,T,v,y,O,o,re])};function _e(t){return e.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}),t)}const je=function(t,n){let{open:r}=t,{enabled:o=!0,role:u="dialog"}=void 0===n?{}:n;const c=y(),i=y();return e.useMemo((()=>{const e={id:c,role:u};return o?"tooltip"===u?{reference:{"aria-describedby":r?c:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===u?"dialog":u,"aria-controls":r?c:void 0,..."listbox"===u&&{role:"combobox"},..."menu"===u&&{id:i}},floating:{...e,..."menu"===u&&{"aria-labelledby":i}}}:{}}),[o,u,r,c,i])},We=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function Ve(t,n){let{open:r,elements:{floating:o}}=t,{duration:u=250}=void 0===n?{}:n;const c=("number"==typeof u?u:u.close)||0,[i,l]=e.useState(!1),[s,a]=e.useState("unmounted"),f=function(t,n){const[r,o]=e.useState(t);return t&&!r&&o(!0),e.useEffect((()=>{if(!t){const e=setTimeout((()=>o(!1)),n);return()=>clearTimeout(e)}}),[t,n]),r}(r,c);return p((()=>{i&&!f&&a("unmounted")}),[i,f]),p((()=>{if(o){if(r){a("initial");const e=requestAnimationFrame((()=>{a("open")}));return()=>{cancelAnimationFrame(e)}}l(!0),a("close")}}),[r,o]),{isMounted:f,status:s}}function qe(t,n){let{initial:r={opacity:0},open:o,close:u,common:c,duration:i=250}=void 0===n?{}:n;const l=t.placement,s=l.split("-")[0],[a,f]=e.useState({}),{isMounted:d,status:m}=Ve(t,{duration:i}),v=N(r),g=N(o),b=N(u),h=N(c),y="number"==typeof i,w=(y?i:i.open)||0,E=(y?i:i.close)||0;return p((()=>{const e={side:s,placement:l},t=v.current,n=b.current,r=g.current,o=h.current,u="function"==typeof t?t(e):t,c="function"==typeof n?n(e):n,i="function"==typeof o?o(e):o,a=("function"==typeof r?r(e):r)||Object.keys(u).reduce(((e,t)=>(e[t]="",e)),{});if("initial"!==m&&"unmounted"!==m||f((e=>({transitionProperty:e.transitionProperty,...i,...u}))),"open"===m&&f({transitionProperty:Object.keys(a).map(We).join(","),transitionDuration:w+"ms",...i,...a}),"close"===m){const e=c||u;f({transitionProperty:Object.keys(e).map(We).join(","),transitionDuration:E+"ms",...i,...e})}}),[s,l,E,b,v,g,h,w,m]),{isMounted:d,styles:a}}const ze=function(t,n){var r;let{open:o,dataRef:u,refs:c}=t,{listRef:i,activeIndex:l,onMatch:s=(()=>{}),enabled:a=!0,findMatch:f=null,resetMs:d=1e3,ignoreKeys:m=[],selectedIndex:v=null}=void 0===n?{listRef:{current:[]},activeIndex:null}:n;const g=e.useRef(),b=e.useRef(""),h=e.useRef(null!=(r=null!=v?v:l)?r:-1),y=e.useRef(null),w=le(s),E=N(f),R=N(m);return p((()=>{o&&(clearTimeout(g.current),y.current=null,b.current="")}),[o]),p((()=>{var e;o&&""===b.current&&(h.current=null!=(e=null!=v?v:l)?e:-1)}),[o,v,l]),e.useMemo((()=>{if(!a)return{};function e(e){var t;const n=G(e.nativeEvent);if(P(n)&&(U(M(n))!==e.currentTarget?null!=(t=c.floating.current)&&t.contains(n)&&n.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==e.currentTarget:!e.currentTarget.contains(n)))return;b.current.length>0&&" "!==b.current[0]&&(u.current.typing=!0," "===e.key&&$(e));const r=i.current;if(null==r||R.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&b.current===e.key&&(b.current="",h.current=y.current),b.current+=e.key,clearTimeout(g.current),g.current=setTimeout((()=>{b.current="",h.current=y.current,u.current.typing=!1}),d);const o=h.current,l=[...r.slice((o||0)+1),...r.slice(0,(o||0)+1)],s=E.current?E.current(l,b.current):l.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(b.current.toLocaleLowerCase())))),a=s?r.indexOf(s):-1;-1!==a&&(w(a),y.current=a)}return{reference:{onKeyDown:e},floating:{onKeyDown:e}}}),[a,u,i,d,R,E,w,c])};function Ue(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Xe=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:u=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:f,...m}=e,{rects:v,elements:{floating:p}}=t,g=n.current[l];if(!g)return{};const b={...t,...await c(-g.offsetTop-v.reference.height/2-g.offsetHeight/2-u).fn(t)},h=(null==f?void 0:f.current)||p,y=await i(Ue(b,h.scrollHeight),m),w=await i(b,{...m,elementContext:"reference"}),E=Math.max(0,y.top),R=b.y+E,x=Math.max(0,h.scrollHeight-E-Math.max(0,y.bottom));return h.style.maxHeight=x+"px",h.scrollTop=E,o&&(h.offsetHeight<g.offsetHeight*Math.min(s,n.current.length-1)-1||w.top>=-a||w.bottom>=-a?d((()=>o(!0))):d((()=>o(!1)))),r&&(r.current=await i(Ue({...b,y:R},h.offsetHeight),m)),{y:R}}}),Ye=(t,n)=>{let{open:r,elements:o}=t,{enabled:u=!0,overflowRef:c,scrollRef:i,onChange:l}=n;const s=le(l),a=e.useRef(!1),f=e.useRef(null),m=e.useRef(null);return e.useEffect((()=>{if(!u)return;function e(e){if(e.ctrlKey||!t||null==c.current)return;const n=e.deltaY,r=c.current.top>=-.5,o=c.current.bottom>=-.5,u=t.scrollHeight-t.clientHeight,i=n<0?-1:1,l=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!r&&n>0||!o&&n<0?(e.preventDefault(),d((()=>{s((e=>e+Math[l](n,u*i)))}))):/firefox/i.test(A())&&(t.scrollTop+=n))}const t=(null==i?void 0:i.current)||o.floating;return r&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{f.current=t.scrollTop,null!=c.current&&(m.current={...c.current})})),()=>{f.current=null,m.current=null,t.removeEventListener("wheel",e)}):void 0}),[u,r,o.floating,c,i,s]),e.useMemo((()=>u?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const e=(null==i?void 0:i.current)||o.floating;if(c.current&&e&&a.current){if(null!==f.current){const t=e.scrollTop-f.current;(c.current.bottom<-.5&&t<-1||c.current.top<-.5&&t>1)&&d((()=>s((e=>e+t))))}requestAnimationFrame((()=>{f.current=e.scrollTop}))}}}}:{}),[u,c,o.floating,i,s])};function Ze(e){let t,{restMs:n=0,buffer:r=.5,blockPointerEvents:o=!1}=void 0===e?{}:e,u=!1,c=!1;const i=e=>{let{x:o,y:i,placement:l,elements:s,onClose:a,nodeId:f,tree:d}=e;return function(e){function m(){clearTimeout(t),a()}if(clearTimeout(t),!s.domReference||!s.floating||null==l||null==o||null==i)return;const{clientX:v,clientY:p}=e,g=[v,p],b=G(e),h="mouseleave"===e.type,y=X(s.floating,b),w=X(s.domReference,b),E=s.domReference.getBoundingClientRect(),R=s.floating.getBoundingClientRect(),x=l.split("-")[0],I=o>R.right-R.width/2,k=i>R.bottom-R.height/2,T=function(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}(g,E);if(y&&(c=!0,!h))return;if(w&&(c=!1),w&&!h)return void(c=!0);if(h&&P(e.relatedTarget)&&X(s.floating,e.relatedTarget))return;if(d&&Q(d.nodesRef.current,f).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if("top"===x&&i>=E.bottom-1||"bottom"===x&&i<=E.top+1||"left"===x&&o>=E.right-1||"right"===x&&o<=E.left+1)return m();let C=[];switch(x){case"top":C=[[R.left,E.top+1],[R.left,R.bottom-1],[R.right,R.bottom-1],[R.right,E.top+1]],u=v>=R.left&&v<=R.right&&p>=R.top&&p<=E.top+1;break;case"bottom":C=[[R.left,R.top+1],[R.left,E.bottom-1],[R.right,E.bottom-1],[R.right,R.top+1]],u=v>=R.left&&v<=R.right&&p>=E.bottom-1&&p<=R.bottom;break;case"left":C=[[R.right-1,R.bottom],[R.right-1,R.top],[E.left+1,R.top],[E.left+1,R.bottom]],u=v>=R.left&&v<=E.left+1&&p>=R.top&&p<=R.bottom;break;case"right":C=[[E.right-1,R.bottom],[E.right-1,R.top],[R.left+1,R.top],[R.left+1,R.bottom]],u=v>=E.right-1&&v<=R.right&&p>=R.top&&p<=R.bottom}const M=u?C:function(e){let[t,n]=e;const o=R.width>E.width,u=R.height>E.height;switch(x){case"top":return[[o?t+r/2:I?t+4*r:t-4*r,n+r+1],[o?t-r/2:I?t+4*r:t-4*r,n+r+1],...[[R.left,I||o?R.bottom-r:R.top],[R.right,I?o?R.bottom-r:R.top:R.bottom-r]]];case"bottom":return[[o?t+r/2:I?t+4*r:t-4*r,n-r],[o?t-r/2:I?t+4*r:t-4*r,n-r],...[[R.left,I||o?R.top+r:R.bottom],[R.right,I?o?R.top+r:R.bottom:R.top+r]]];case"left":{const e=[t+r+1,u?n+r/2:k?n+4*r:n-4*r],o=[t+r+1,u?n-r/2:k?n+4*r:n-4*r];return[...[[k||u?R.right-r:R.left,R.top],[k?u?R.right-r:R.left:R.right-r,R.bottom]],e,o]}case"right":return[[t-r,u?n+r/2:k?n+4*r:n-4*r],[t-r,u?n-r/2:k?n+4*r:n-4*r],...[[k||u?R.left+r:R.right,R.top],[k?u?R.left+r:R.right:R.left+r,R.bottom]]]}}([o,i]);return u?void 0:c&&!T?m():void(!function(e,t){const[n,r]=e;let o=!1;const u=t.length;for(let e=0,c=u-1;e<u;c=e++){const[u,i]=t[e]||[0,0],[l,s]=t[c]||[0,0];i>=r!=s>=r&&n<=(l-u)*(r-i)/(s-i)+u&&(o=!o)}return o}([v,p],M)?m():n&&!c&&(t=setTimeout(m,n)))}};return i.__options={blockPointerEvents:o},i}function Qe(t){void 0===t&&(t={});const{open:n=!1,onOpenChange:r,nodeId:o}=t,u=l(t),c=I(),i=e.useRef(null),s=e.useRef({}),a=e.useState((()=>w()))[0],[f,d]=e.useState(null),m=e.useCallback((e=>{const t=P(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)}),[u.refs]),v=e.useCallback((e=>{(P(e)||null===e)&&(i.current=e,d(e)),(P(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!P(e))&&u.refs.setReference(e)}),[u.refs]),g=e.useMemo((()=>({...u.refs,setReference:v,setPositionReference:m,domReference:i})),[u.refs,v,m]),b=e.useMemo((()=>({...u.elements,domReference:f})),[u.elements,f]),h=le(r),y=e.useMemo((()=>({...u,refs:g,elements:b,dataRef:s,nodeId:o,events:a,open:n,onOpenChange:h})),[u,o,a,n,h,g,b]);return p((()=>{const e=null==c?void 0:c.nodesRef.current.find((e=>e.id===o));e&&(e.context=y)})),e.useMemo((()=>({...u,context:y,refs:g,reference:v,positionReference:m})),[u,g,y,v,m])}function Ge(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var u;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(u=r.get(n))||u.push(o),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];null==(e=r.get(n))||e.forEach((e=>e(...o)))})):e[n]=o})),e):e),{})}}const Je=function(t){void 0===t&&(t=[]);const n=t,r=e.useCallback((e=>Ge(e,t,"reference")),n),o=e.useCallback((e=>Ge(e,t,"floating")),n),u=e.useCallback((e=>Ge(e,t,"item")),t.map((e=>null==e?void 0:e.item)));return e.useMemo((()=>({getReferenceProps:r,getFloatingProps:o,getItemProps:u})),[r,o,u])};export{v as FloatingArrow,q as FloatingDelayGroup,ye as FloatingFocusManager,T as FloatingNode,Ee as FloatingOverlay,ge as FloatingPortal,C as FloatingTree,Xe as inner,Ze as safePolygon,Ie as useClick,z as useDelayGroup,V as useDelayGroupContext,Me as useDismiss,Qe as useFloating,k as useFloatingNodeId,x as useFloatingParentNodeId,pe as useFloatingPortalNode,I as useFloatingTree,Le as useFocus,j as useHover,y as useId,Ye as useInnerOffset,Je as useInteractions,Ne as useListNavigation,_e as useMergeRefs,je as useRole,Ve as useTransitionStatus,qe as useTransitionStyles,ze as useTypeahead};
